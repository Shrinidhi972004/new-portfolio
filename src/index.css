@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base Styles */
@layer base {
  * {
    @apply m-0 p-0 box-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply font-mono leading-relaxed overflow-x-hidden;
    cursor: none;
  }

  /* Dark theme (default) */
  html.dark body,
  html:not(.light) body {
    @apply bg-primary text-gray-200;
  }

  /* Light theme */
  html.light body {
    @apply bg-light-primary text-gray-900;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-primary-secondary;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-accent-dim rounded;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-accent;
  }

  ::selection {
    @apply bg-accent text-primary;
  }
}

/* Glass Effect */
@layer components {
  .glass {
    @apply bg-[rgba(17,17,17,0.7)] backdrop-blur-[20px] border border-[rgba(57,255,20,0.2)] rounded-lg;
  }

  .dark .glass {
    @apply bg-[rgba(17,17,17,0.7)] border-[rgba(57,255,20,0.2)];
  }

  .light .glass {
    @apply bg-[rgba(255,255,255,0.8)] border-[rgba(0,170,0,0.3)];
  }

  /* Scanlines Overlay */
  .scanlines {
    @apply fixed inset-0 pointer-events-none z-[800];
    background: repeating-linear-gradient(
      0deg,
      rgba(0, 0, 0, 0.03),
      rgba(0, 0, 0, 0.03) 1px,
      transparent 1px,
      transparent 2px
    );
    opacity: 0.5;
  }

  .light .scanlines {
    opacity: 0.2;
  }

  /* Terminal Styles */
  .terminal-line {
    @apply opacity-0 animate-[fadeIn_0.3s_ease_forwards];
  }

  .terminal-line.command {
    @apply text-accent;
  }

  .terminal-line.output {
    @apply text-gray-500 pl-4;
  }

  .terminal-line.success {
    @apply text-accent;
  }

  .terminal-line.error {
    @apply text-red-500;
  }

  .terminal-line.warning {
    @apply text-yellow-500;
  }

  @keyframes fadeIn {
    to {
      opacity: 1;
    }
  }

  /* Button Styles */
  .btn-primary {
    @apply bg-accent text-primary border-2 border-accent px-6 py-3 rounded font-mono font-medium text-sm
           transition-all duration-150 hover:bg-transparent hover:text-accent;
  }

  .btn-secondary {
    @apply bg-transparent text-accent border-2 border-accent px-6 py-3 rounded font-mono font-medium text-sm
           transition-all duration-150 hover:bg-accent hover:text-primary;
  }

  /* Glitch Effect */
  .glitch-btn {
    @apply relative overflow-hidden;
  }

  .glitch-btn:hover::before {
    content: attr(data-text);
    @apply absolute inset-0 flex items-center justify-center opacity-80;
    animation: glitch-1 0.3s infinite;
    color: #ff4444;
  }

  .glitch-btn:hover::after {
    content: attr(data-text);
    @apply absolute inset-0 flex items-center justify-center opacity-80;
    animation: glitch-2 0.3s infinite;
    color: cyan;
  }

  /* Skill Tags */
  .skill-tag {
    @apply text-xs px-2 py-1 bg-primary-tertiary border border-gray-700 rounded text-gray-400
           transition-all duration-150 hover:border-accent hover:text-accent;
  }

  /* Bento Cards */
  .bento-card {
    @apply p-6 transition-all duration-300 relative overflow-hidden;
  }

  .bento-card::before {
    content: '';
    @apply absolute top-0 left-0 w-full h-[3px] bg-accent origin-left scale-x-0 transition-transform duration-300;
  }

  .bento-card:hover::before {
    @apply scale-x-100;
  }

  .bento-card:hover {
    @apply -translate-y-1;
    box-shadow: 0 10px 40px rgba(57, 255, 20, 0.3);
  }

  /* Project Cards */
  .project-card {
    @apply p-0 overflow-hidden transition-all duration-300;
  }

  .project-card:hover {
    @apply -translate-y-1;
    box-shadow: 0 20px 60px rgba(57, 255, 20, 0.3);
  }

  /* Form Styles */
  .form-input {
    @apply w-full p-4 pt-8 bg-primary-tertiary border border-gray-700 rounded text-gray-200 font-mono text-base
           transition-all duration-150 resize-y focus:outline-none focus:border-accent;
    box-shadow: none;
  }

  .form-input:focus {
    box-shadow: 0 0 0 2px rgba(57, 255, 20, 0.3);
  }

  .form-label {
    @apply absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-base pointer-events-none
           transition-all duration-150;
  }

  .form-input:focus ~ .form-label,
  .form-input:not(:placeholder-shown) ~ .form-label {
    @apply top-2 translate-y-0 text-xs text-accent;
  }
}

/* Animations */
@layer utilities {
  .fade-in-up {
    @apply opacity-0 translate-y-8 transition-all duration-500;
  }

  .fade-in-up.visible {
    @apply opacity-100 translate-y-0;
  }

  /* JSON Syntax Highlighting */
  .json-key {
    @apply text-accent;
  }

  .json-string {
    @apply text-gray-400;
  }

  /* Cloud Badges */
  .cloud-badge {
    @apply text-xs font-semibold px-2 py-1 rounded;
  }

  .cloud-badge.aws {
    @apply bg-[#ff9900] text-black;
  }

  .cloud-badge.gcp {
    @apply bg-[#4285f4] text-white;
  }

  .cloud-badge.azure {
    @apply bg-[#0078d4] text-white;
  }
}

/* Custom Cursor Styles */
.cursor-outer {
  @apply fixed w-10 h-10 border-2 border-accent rounded-full pointer-events-none z-[9999] opacity-50;
  transform: translate(-50%, -50%);
  transition: transform 0.1s ease, opacity 0.3s ease;
}

.cursor-inner {
  @apply fixed w-2 h-2 bg-accent rounded-full pointer-events-none z-[9999];
  transform: translate(-50%, -50%);
  transition: transform 0.05s ease;
}

.cursor-hover .cursor-outer {
  transform: translate(-50%, -50%) scale(1.5);
  @apply opacity-100;
}

.cursor-hover .cursor-inner {
  transform: translate(-50%, -50%) scale(0.5);
}

/* Hide custom cursor on touch devices */
@media (hover: none) and (pointer: coarse) {
  .cursor-outer,
  .cursor-inner {
    @apply hidden;
  }

  body {
    cursor: auto;
  }
}

/* Light mode adjustments - Using direct styles to avoid Tailwind conflicts */
html.light,
body.light {
  --color-accent: #00aa00;
  --color-primary: #f5f5f5;
  --color-primary-secondary: #e8e8e8;
  --color-primary-tertiary: #ffffff;
}

html.dark,
body.dark {
  --color-accent: #39FF14;
  --color-primary: #0a0a0a;
  --color-primary-secondary: #111111;
  --color-primary-tertiary: #1a1a1a;
}

/* Light mode color overrides */
body.light {
  background-color: #f5f5f5 !important;
  color: #111827 !important;
}

.light .glass {
  background-color: rgba(255, 255, 255, 0.8) !important;
  border-color: rgba(0, 170, 0, 0.3) !important;
}

.light .cursor-outer {
  border-color: #00aa00 !important;
}

.light .cursor-inner {
  background-color: #00aa00 !important;
}

.light .scanlines {
  opacity: 0.15;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .scanlines {
    @apply hidden;
  }
}

/* Focus styles */
:focus-visible {
  @apply outline-2 outline-accent outline-offset-2;
}
